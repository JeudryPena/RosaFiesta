<div class="recommend-products-list">
  @for (product of products; track product) {
    <div>
      <div class="card-main">
        <div class="product-condition" [ngClass]="{'used-condition': product.option.condition !== 'Nuevo'}">
          <p class="me-1">
            {{ product.option.condition }}
          </p>
        </div>
      </div>
      <div class="product-item">
        <div class="item-img" (click)="productDetail(product.id, product.option.id)">
          <img alt="" [src]="product.option.image | imgPath"/>
        </div>
        <div class="card-main">
          <div class="product-selector">
            <ul>
              <li (click)="shareButtons(product.shareUrl, product.option.title)"><i class="share-icon w-icon"></i></li>
              <li (click)="addToWishList(product.option.id)"><i class="favorite-icon w-icon"></i></li>
              <li (click)="productDetail(product.id, product.option.id)"><i class="search-icon w-icon"></i></li>
            </ul>
          </div>
        </div>
        <div class="item-info">

          <div class="product-name">{{ product.option.title }}
          </div>
          <div class="rating">
            <div class="rates-container">
              <app-rating [size]="'20px'" [rating]="product.option.averageRating"></app-rating>
              <span class="review-quantity">{{ (product.option.reviews)?.length }}</span>
            </div>
            @if (product.isService) {
              <span class="is-service">Servicio</span>
            }
          </div>
          <div class="product-price">
            <span [ngClass]="{'last-price': product.option.discount}"
                  class="new-price me-1">{{ product.option.price | currency }}</span>
            <span *ngIf="product.option.discount" class="new-price">{{ product.option.offerPrice | currency }}
              <span class="ms-1" *ngIf="product.option.discount">({{ product.option.discount.value }}
                %)</span></span>
          </div>
        </div>
      </div>
    </div>
  }
</div>
